
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Business Calculator</title>

     <link rel="stylesheet" href="/style/styles.css">
      
    
      <link rel="icon" type="image/x-icon" href="/images/newLogo.jpg">
      <link rel="icon" type="image/x-icon" href="/images/newLogo.jpg" />
      <link rel="shortcut icon" type="image/x-icon" href="/images/newLogo.jpg" />
      <link rel="icon" type="image/png" sizes="32x32" href="/images/newLogo.jpg" />
      <link rel="icon" type="image/png" sizes="16x16" href="/images/newLogo.jpg" />
      <link rel="apple-touch-icon" href="/images/newLogo.jpg" />
      <link rel="apple-touch-icon" sizes="180x180" href="/images/newLogo.jpg" />
      <link rel="apple-touch-icon" sizes="152x152" href="/images/newLogo.jpg" />
      <link rel="apple-touch-icon" sizes="120x120" href="/images/newLogo.jpg" />
      <link rel="apple-touch-icon" sizes="76x76" href="/images/newLogo.jpg" />
      <link rel="icon" sizes="192x192" href="/images/newLogo.jpg" />
      <link rel="icon" sizes="512x512" href="/images/newLogo.jpg" />
      <link rel="mask-icon" href="/images/newLogo.jpg" color="#5bbad5" />
      <link rel="manifest" href="/manifest.json" />
  </head>
  <body style=" background-color: white">


      <!-- <div class="tab-container" >
       <a href="/client/finance/income.html" class="tab">Income</a>
       <a href="/client/finance/expense.html" class="tab">Expense</a>
       <a href="/client/finance/asset.html" class="tab">Asset</a>
       <a href="/client/finance/liability.html" class="tab">Liability</a>
           </div> -->
   <div class="container">

          


    
<h3 style="text-align: center; margin-bottom: 20px;"> Worksheet for Small Business Finances - Educational Purposes Only</h3>

          

         <div class="row" >
              <label for="revenueType">Income Source:</label>
                  <select id="revenueType" onchange="toggleRevenueType()">
                  <option value="blank">Select</option>
                  <option value="rental">Rental</option>
                  <option value="service">Service</option>
                  <option value="product">Product</option>
              </select>
                   </div> 

      

  <div class="row">
              <label> Revenue Per Rental, Hour, Unit:</label>
              <input type="number" id="price" style="margin-right: 0;">
          </div>


<div class ="row">
                           <label>Number of Rentals, Hours, Units:</label>


  
              <input type="number" id="sales">
  <select id="salesFrequency" class="frequency-dropdown" onchange="updateFrequency('sales')">
                  <option value="blank">Select</option>
                  <option value="annually">Annually</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
              </select>
        </div>
              
            

  <div class="row">
    <label for="" style="font-size: unset;" class="tooltip" data-tooltip="(COGS) Represents the direct costs associated with producing or purchasing the goods sold by a company. Includes materials, labor, and overhead directly tied to production.">
  <span class="tooltip-content"></span>
          Cost of goods sold applicable?</label>
          <select id="cogs" onchange="toggleCogs()">
              <option value="no">No</option>
              <option value="yes">Yes</option>
          </select>
</div>

    
          <div id="cogsSection">
        
            <h2>Cost of Goods Sold</h2>

               <div class  ="row"> 
                  <label for="cogsMaterials">Material Cost Per Unit</label>
                  
                      <input type="number" id="cogsMaterials">
                  <select>
                    <option value="blank">Select</option>
                  <option value="annually">Annually</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
              </select>
                      
              </div>
           

            
              <div class ="row" >
                  <label for="cogsLabor">Labor Cost Per Unit</label>
                  
                      <input type="number" id="cogsLabor">
                       <select>
                    <option value="blank">Select</option>
                  <option value="annually">Annually</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
              </select>
                
              </div>
  
              <div class="row">
                  <label for="cogsOverhead">Overhead Cost Per Unit</label>
                  
                      <input type="number" id="cogsOverhead">
                       <select>
                    <option value="blank">Select</option>
                  <option value="annually">Annually</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
              </select>
                          
              </div>
  
              <div class="row" >
                  <label for="cogsShipping">Shipping Cost Per Unit</label>
                  
                      <input type="number" id="cogsShipping">
                       <select>
                    <option value="blank">Select</option>
                  <option value="annually">Annually</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
              </select>
                  
             
          </div>
   
          </div>

            <label for="" style="font-size: unset;" class="tooltip" data-tooltip="(COGS) Represents the direct costs associated with producing or purchasing the goods sold by a company. Includes materials, labor, and overhead directly tied to production.">
  <span class="tooltip-content"></span>
          <h2>Operational Costs</h2></label>
         <div class="row">
              <label for="rent">Rent</label>
            
                  <input type="number" id="rent">
                  <select id="rentFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
         </div>
         
  <div class="row">
              <label for="utilities">Utilities</label>
             
                  <input type="number" id="utilities">
                  <select id="utilitiesFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
      
         <div class="row">
              <label for="salaries">Salaries</label>
             
                  <input type="number" id="salaries">
                  <select id="salariesFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
     
          <div class="row">
              <label for="marketing">Marketing</label>
             
                  <input type="number" id="marketing">
                  <select id="marketingFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
          
          <div class="row">
              <label for="insurance">Insurance</label>
             
                  <input type="number" id="insurance">
                  <select id="insuranceFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
           
      <div class="row">
      <label for="travel">Travel</label>
     
          <input type="number" id="travel">
          <select id="travelFrequency">
              <option value="annually">Annually</option>
              <option value="quarterly">Quarterly</option>
              <option value="monthly">Monthly</option>
              <option value="weekly">Weekly</option>
          </select>
      </div>
  
  <div class="row">
      <label for="hotel">Hotel</label>
      
          <input type="number" id="hotel">
          <select id="hotelFrequency">
              <option value="annually">Annually</option>
              <option value="quarterly">Quarterly</option>
              <option value="monthly">Monthly</option>
              <option value="weekly">Weekly</option>
          </select>
      </div>
          

          <h2>Building Costs</h2>
         <div class="row">
              <label for="buildingRent">Building Rent</label>
              
                  <input type="number" id="buildingRent">
                  <select id="buildingRentFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
      
         <div class="row">
              <label for="buildingMaintenance">Building Maintenance</label>
             
                  <input type="number" id="buildingMaintenance">
                  <select id="buildingMaintenanceFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
        
          <div class="row">
              <label for="buildingUtilities">Building Utilities</label>
              
                  <input type="number" id="buildingUtilities">
                  <select id="buildingUtilitiesFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>


          <h2>Vehicle Costs</h2>
        <div class="row">
              <label for="vehicleRental">Vehicle Rental</label>
              
                  <input type="number" id="vehicleRental">
                  <select id="vehicleRentalFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
       
         <div class="row">
              <label for="vehicleLease">Vehicle Lease</label>
              
                  <input type="number" id="vehicleLease">
                  <select id="vehicleLeaseFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
          
         <div class="row">
              <label for="vehicleGas">Vehicle Gas</label>
             
                  <input type="number" id="vehicleGas">
                  <select id="vehicleGasFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
   
          <div class="row">
              <label for="vehicleMaintenance">Vehicle Maintenance</label>
              
                  <input type="number" id="vehicleMaintenance">
                  <select id="vehicleMaintenanceFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
          
          <div class="row">
              <label for="vehicleInsurance">Vehicle Insurance</label>
              
                  <input type="number" id="vehicleInsurance">
                  <select id="vehicleInsuranceFrequency">
                      <option value="annually">Annually</option>
                      <option value="quarterly">Quarterly</option>
                      <option value="monthly">Monthly</option>
                      <option value="weekly">Weekly</option>
                  </select>
              </div>
        

          <h2>Assets</h2>
          <div class="row">
              <label for="cash">Cash</label>
            
              <input type="number" id="cash">
</div>
            
          <div class="row">
              <label for="accountsReceivable">Accounts Receivable</label>
          
              <input type="number" id="accountsReceivable">
</div>

            
          <div class="row">
              <label for="inventory">Inventory</label>
          
              <input type="number" id="inventory">
</div>
            
          <div class="row">
              <label for="property">Property</label>
           
              <input type="number" id="property">
</div>
            
          <div class="row">
              <label for="equipment">Equipment</label>
           
              <input type="number" id="equipment">
          </div>

          <h2>Liabilities</h2>
         <div class="row">
              <label for="accountsPayable">Accounts Payable</label>
           
              <input type="number" id="accountsPayable">
</div>
            
          <div class="row">
              <label for="loans">Loans</label>
        
              <input type="number" id="loans">
</div>
            
                   <div class="row">
              <label for="mortgages">Mortgages</label>
                    
              <input type="number" id="mortgages">
</div>
                     
          <div class="row">
              <label for="taxesPayable">Taxes Payable</label>
        
              <input type="number" id="taxesPayable">
</div>
            
          <div class="row">
              <label for="otherLiabilities">Other Liabilities</label>
           
              <input type="number" id="otherLiabilities">
          </div>

          <h2>Results</h2>
          <div class="row">
              <label for="resultChange">Display results as:</label>
              <select id="resultChange" onchange="calculate()">
                  <option value="1">Annual</option>
                  <option value="12">Monthly</option>
                  <option value="52">Weekly</option>
                  <option value="365">Daily</option>
              </select>
          </div>
          


       
  <div class="result-parent">
    
      <!-- <div class="checkbox-wrapper-2" >
        <input type="checkbox" id="termscheckbox" class="sc-gJwTLC ikxBAC">
       </div>
<label for="termscheckbox">I have read, understand, and agree to the <a href="#" onclick="openTermsModal()" >terms of service</a> and consent to the creation and use of cookies for calculations and functionality.</label><br>

<div id="termsModal" class="modal">
        <div class="modal-content" id="modalContent">
             <button onclick="closeModal()">Close</button>
        </div>
    </div>
    </div>

    <div style="display: flex; align-items: center; gap: 15px; margin-top: 20px;">

        
        <div class="checkbox-wrapper-2" >
            <input type="checkbox" id="notintended" class="sc-gJwTLC ikxBAC">
        </div>
        <label for="notintended"> Enter pre-tax & pre-contributions income amounts & select the corresponding frequency. </label>
    </div> -->
    

<div id="results">
          <button  class="roi-btn" onclick="validatecheckbox()">Calculate</button>
     
</div>




    <section id="NIBT">
        <p id="totalRevenue"></p>
        <p id="totalCOGS"></p>
        <p id="operationalCosts"></p>
        <p id="buildingCosts"></p>
        <p id="vehicleCosts"></p>
        <h3 id="netIncome"></h3>
    </section>

            
    <section id="balanceSheet">
        <p id="totalAssets"></p>
        <p id="totalLiabilities"></p>
        <h3 id="bookValue"></h3>
    </section>

            


<button class="roi-btn" onclick="sendMessage()">
    Return to Income
</button>
    
</div>
<div id="alert" class="alert"></div>

<script src="/server/scripts/toolTip.js"></script>
            
<!-- <script src="https://js.stripe.com/v3/" async ></script> -->
    
      <script>
          function toggleCogs() {
              const cogs = document.getElementById('cogs').value;
              const cogsSection = document.getElementById('cogsSection');
              cogsSection.style.display = cogs === 'yes' ? 'block' : 'none';
          }

          document.addEventListener('DOMContentLoaded', function() {
              toggleCogs();
          });

          function toggleRevenueType() {
              const revenueType = document.getElementById('revenueType').value;
              const salesLabel = document.querySelector('label[for="sales"]');
              const priceLabel = document.querySelector('label[for="price"]');

              if (revenueType === 'rental') {
                  salesLabel.textContent = 'Rentals Contracted';
                  priceLabel.textContent = 'Price Per Rental';
              } else if (revenueType === 'service') {
                  salesLabel.textContent = 'Hours Billed';
                  priceLabel.textContent = 'Price Per Hour';
              } else {
                  salesLabel.textContent = 'Units Sold';
                  priceLabel.textContent = 'Price Per Unit';
              }
          }

          function calculateAnnual(inputId, frequencyId) {
              const input = parseFloat(document.getElementById(inputId).value) || 0;
              const frequency = document.getElementById(frequencyId).value;

              switch (frequency) {
                  case 'annually': return input * 1;
                  case 'quarterly': return input * 4;
                  case 'monthly': return input * 12;
                  case 'weekly': return input * 52;
                  default: return 0;
              }
          }

          function calculate() {
              const resultDiv = document.getElementById('results');
              let result = '';

              const price = parseFloat(document.getElementById('price').value) || 0;
              const sales = parseFloat(document.getElementById('sales').value) || 0;
              const salesFrequency = document.getElementById('salesFrequency').value;

              const totalRevenue = calculateAnnual('sales', 'salesFrequency') * price;

              const cogsMaterialsValue = parseFloat(document.getElementById('cogsMaterials').value) || 0;
              const cogsLaborValue = parseFloat(document.getElementById('cogsLabor').value) || 0;
              const cogsOverheadValue = parseFloat(document.getElementById('cogsOverhead').value) || 0;
              const cogsShippingValue = parseFloat(document.getElementById('cogsShipping').value) || 0;
              const totalCOGS = (cogsMaterialsValue + cogsLaborValue + cogsOverheadValue + cogsShippingValue) * sales;

               const totalOperationalCosts = calculateAnnual('rent', 'rentFrequency') +
        calculateAnnual('utilities', 'utilitiesFrequency') +
        calculateAnnual('salaries', 'salariesFrequency') +
        calculateAnnual('marketing', 'marketingFrequency') +
        calculateAnnual('insurance', 'insuranceFrequency') +
        calculateAnnual('travel', 'travelFrequency') +
        calculateAnnual('hotel', 'hotelFrequency');

              const totalBuildingCosts = calculateAnnual('buildingRent', 'buildingRentFrequency') +
                  calculateAnnual('buildingMaintenance', 'buildingMaintenanceFrequency') +
                  calculateAnnual('buildingUtilities', 'buildingUtilitiesFrequency');

              const totalVehicleCosts = calculateAnnual('vehicleGas', 'vehicleGasFrequency') +
                  calculateAnnual('vehicleMaintenance', 'vehicleMaintenanceFrequency') +
                  calculateAnnual('vehicleInsurance', 'vehicleInsuranceFrequency') +
                  calculateAnnual('vehicleRental', 'vehicleRentalFrequency') +
                  calculateAnnual('vehicleLease', 'vehicleLeaseFrequency');

              const cashValue = parseFloat(document.getElementById('cash').value) || 0;
              const accountsReceivableValue = parseFloat(document.getElementById('accountsReceivable').value) || 0;
              const inventoryValue = parseFloat(document.getElementById('inventory').value) || 0;
              const propertyValue = parseFloat(document.getElementById('property').value) || 0;
              const equipmentValue = parseFloat(document.getElementById('equipment').value) || 0;
              const totalAssets = cashValue + accountsReceivableValue + inventoryValue + propertyValue + equipmentValue;

              const accountsPayableValue = parseFloat(document.getElementById('accountsPayable').value) || 0;
              const loansValue = parseFloat(document.getElementById('loans').value) || 0;
              const mortgagesValue = parseFloat(document.getElementById('mortgages').value) || 0;
              const taxesPayableValue = parseFloat(document.getElementById('taxesPayable').value) || 0;
              const otherLiabilitiesValue = parseFloat(document.getElementById('otherLiabilities').value) || 0;
              const totalLiabilities = accountsPayableValue + loansValue + mortgagesValue + taxesPayableValue + otherLiabilitiesValue;

            const bookValue = totalAssets - totalLiabilities;  
            const totalCosts = totalCOGS + totalOperationalCosts + totalBuildingCosts + totalVehicleCosts;
              const netIncome = totalRevenue - totalCosts;

              const selectedValue = parseFloat(document.getElementById('resultChange').value);
              const totalOperationalCostsDivided = totalOperationalCosts / selectedValue;
              const totalBuildingCostsDivided = totalBuildingCosts / selectedValue;
              const totalVehicleCostsDivided = totalVehicleCosts / selectedValue;
              const totalCOGSDivided = totalCOGS / selectedValue;

              const netIncomeAdjusted = netIncome / selectedValue;

              

              setCookie('totalRevenue', totalRevenue.toFixed(2), 365)
              setCookie('totalCOGS', totalCOGS.toFixed(2), 365)
              setCookie('totalOperationalCostsDivided', totalOperationalCostsDivided.toFixed(2), 365)
              setCookie('totalBuildingCostsDivided', totalBuildingCostsDivided.toFixed(2), 365)
              setCookie('totalVehicleCostsDivided', totalVehicleCostsDivided.toFixed(2), 365)
              setCookie('netIncomeAdjusted', netIncomeAdjusted.toFixed(2), 365)
              setCookie('totalAssets', totalAssets.toFixed(2), 365)
              setCookie('totalLiabilities', totalLiabilities.toFixed(2), 365)
              setCookie('bookValue', bookValue.toFixed(2), 365)
            //   setCookie('revenueType', document.getElementById('revenueType').value, 365)




    setCookie('price', document.querySelector('#price').value, 365);
    setCookie('sales', document.querySelector('#sales').value, 365);
    
    setCookie('cogsMaterials', document.querySelector('#cogsMaterials').value, 365);
    setCookie('cogsLabor', document.querySelector('#cogsLabor').value, 365);
    setCookie('cogsOverhead', document.querySelector('#cogsOverhead').value, 365);
    setCookie('cogsShipping', document.querySelector('#cogsShipping').value, 365);
    setCookie('rent', document.querySelector('#rent').value, 365);
    setCookie('utilities', document.querySelector('#utilities').value, 365);
    setCookie('salaries', document.querySelector('#salaries').value, 365);
    setCookie('marketing', document.querySelector('#marketing').value, 365);
    setCookie('insurance', document.querySelector('#insurance').value, 365);
    setCookie('travel', document.querySelector('#travel').value, 365);
    setCookie('hotel', document.querySelector('#hotel').value, 365);
    setCookie('buildingRent', document.querySelector('#buildingRent').value, 365);
    setCookie('buildingMaintenance', document.querySelector('#buildingMaintenance').value, 365);
    setCookie('buildingUtilities', document.querySelector('#buildingUtilities').value, 365);
    setCookie('vehicleRental', document.querySelector('#vehicleRental').value, 365);
    setCookie('vehicleLease', document.querySelector('#vehicleLease').value, 365);
    setCookie('vehicleGas', document.querySelector('#vehicleGas').value, 365);
    setCookie('vehicleMaintenance', document.querySelector('#vehicleMaintenance').value, 365);
    setCookie('vehicleInsurance', document.querySelector('#vehicleInsurance').value, 365);
    setCookie('cash', document.querySelector('#cash').value, 365);
    setCookie('accountsReceivable', document.querySelector('#accountsReceivable').value, 365);
    setCookie('inventory', document.querySelector('#inventory').value, 365);
    setCookie('property', document.querySelector('#property').value, 365);
    setCookie('equipment', document.querySelector('#equipment').value, 365);
    setCookie('accountsPayable', document.querySelector('#accountsPayable').value, 365);
    setCookie('loans', document.querySelector('#loans').value, 365);
    setCookie('mortgages', document.querySelector('#mortgages').value, 365);
    setCookie('taxesPayable', document.querySelector('#taxesPayable').value, 365);
    setCookie('otherLiabilities', document.querySelector('#otherLiabilities').value, 365);



    setCookie('revenueType', document.querySelector('#revenueType').value, 365);
setCookie('salesFrequency', document.querySelector('#salesFrequency').value, 365);
setCookie('cogs', document.querySelector('#cogs').value, 365);
setCookie('rentFrequency', document.querySelector('#rentFrequency').value, 365);
setCookie('utilitiesFrequency', document.querySelector('#utilitiesFrequency').value, 365);
setCookie('salariesFrequency', document.querySelector('#salariesFrequency').value, 365);
setCookie('marketingFrequency', document.querySelector('#marketingFrequency').value, 365);
setCookie('insuranceFrequency', document.querySelector('#insuranceFrequency').value, 365);
setCookie('travelFrequency', document.querySelector('#travelFrequency').value, 365);
setCookie('hotelFrequency', document.querySelector('#hotelFrequency').value, 365);
setCookie('buildingRentFrequency', document.querySelector('#buildingRentFrequency').value, 365);
setCookie('buildingMaintenanceFrequency', document.querySelector('#buildingMaintenanceFrequency').value, 365);
setCookie('buildingUtilitiesFrequency', document.querySelector('#buildingUtilitiesFrequency').value, 365);
setCookie('vehicleRentalFrequency', document.querySelector('#vehicleRentalFrequency').value, 365);
setCookie('vehicleLeaseFrequency', document.querySelector('#vehicleLeaseFrequency').value, 365);
setCookie('vehicleGasFrequency', document.querySelector('#vehicleGasFrequency').value, 365);
setCookie('vehicleMaintenanceFrequency', document.querySelector('#vehicleMaintenanceFrequency').value, 365);
setCookie('vehicleInsuranceFrequency', document.querySelector('#vehicleInsuranceFrequency').value, 365);
setCookie('resultChange', document.querySelector('#resultChange').value, 365);



              document.querySelector('#alert').textContent = 'business data captured go back now....... suggest text to be displayed'


            // document.getElementById('totalRevenue').textContent = `Total Revenue: ${totalRevenue.toFixed(2)}`;
    // document.getElementById('totalCOGS').textContent = `Total COGS: ${totalCOGS.toFixed(2)}`;
    // document.getElementById('operationalCosts').textContent = `Operational Costs Total: ${totalOperationalCostsDivided.toFixed(2)}`;
    // document.getElementById('buildingCosts').textContent = `Building Costs Total: ${totalBuildingCostsDivided.toFixed(2)}`;
    // document.getElementById('vehicleCosts').textContent = `Vehicle Costs Total: ${totalVehicleCostsDivided.toFixed(2)}`;
    // document.getElementById('netIncome').textContent = `Net Income: ${netIncomeAdjusted.toFixed(2)}`;
    // document.getElementById('totalAssets').textContent = `Assets Total: ${totalAssets.toFixed(2)}`;
    // document.getElementById('totalLiabilities').textContent = `Liabilities Total: ${totalLiabilities.toFixed(2)}`;
    // document.getElementById('bookValue').textContent = `Book Value: ${bookValue.toFixed(2)}`;






    function setCookie(name, value, days) {
  var expires = "";
  if (value === undefined || value === null || value === '') {
    value = '0';
  }
  if (days) {
    var date = new Date();
    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
    expires = "; expires=" + date.toUTCString();
  }
  // Add SameSite and Secure attributes
  document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/; SameSite=Strict; Secure";
}


}
          

           function validatecheckbox() {
//   var termscheckbox = document.getElementById("termscheckbox");
//   var notintended = document.getElementById("notintended");
  var regionDropdown = document.getElementById("RegionDropdown");

 

  // Check if checkboxes are checked
//   if (termscheckbox.checked && notintended.checked) {
    // Perform calculations

    // const paid = getCookie("authenticated");
    // console.log(paid)

    calculate();




//   } else {
//     alert("Please agree to the terms of service & acknowledge that all amounts entered are pre-tax");
//   }
}

    function openTermsModal() {
  console.log('openTermsModal() function called');
  // **Change:** Move setting modal display to within the then block after content is retrieved
  fetch('../../client/finance/legal.txt') // Corrected file extension to '.txt'
    .then(response => response.text())
    .then(data => {
      document.getElementById('modalContent').innerText = data;
      // Set modal display to block after content is retrieved
      document.getElementById('termsModal').style.display = 'block';
    })
    .catch(error => console.error('Error fetching legal content:', error));
}

    function closeModal(event) {
    const modal = document.getElementById('termsModal');
    const modalContent = document.getElementById('modalContent');

    if (event.target === modal && event.target !== modalContent) {
        modal.style.display = 'none';
    }
}
    
document.addEventListener('click', closeModal);
    
    document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && document.getElementById('termsModal').style.display === 'block') {
        closeModal();
    }
});    

// function getCookie(name) {
//     const value = `; ${document.cookie}`;
//     const parts = value.split(`; ${name}=`);
//     let cookieValue = parts.length === 2 ? decodeURIComponent(parts.pop().split(';').shift()) : '';
//     return cookieValue === '' ? '0' : cookieValue;
// }


function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) {
            // Decode the cookie value
            const decodedValue = decodeURIComponent(parts.pop().split(';').shift());
            // If the value is empty and it's a frequency field, set it to 'annually'
            if (decodedValue === '' && name.includes('_frequency')) {
                return 'annually';
            }
            return decodedValue == 0 || decodedValue == '0'? '': decodedValue;
        } else {
            return 'annually';
        }
    }


    document.addEventListener('DOMContentLoaded', function() {
    const priceValue = parseInt(getCookie('price')) || '';
    document.querySelector('#price').value = priceValue === 0 ? '' : priceValue;

    const salesValue = parseInt(getCookie('sales')) || '';
    document.querySelector('#sales').value = salesValue === 0 ? '' : salesValue;

    const cogsMaterialsValue = parseInt(getCookie('cogsMaterials')) || '';
    document.querySelector('#cogsMaterials').value = cogsMaterialsValue === 0 ? '' : cogsMaterialsValue;

    const cogsLaborValue = parseInt(getCookie('cogsLabor')) || '';
    document.querySelector('#cogsLabor').value = cogsLaborValue === 0 ? '' : cogsLaborValue;

    const cogsOverheadValue = parseInt(getCookie('cogsOverhead')) || '';
    document.querySelector('#cogsOverhead').value = cogsOverheadValue === 0 ? '' : cogsOverheadValue;

    const cogsShippingValue = parseInt(getCookie('cogsShipping')) || '';
    document.querySelector('#cogsShipping').value = cogsShippingValue === 0 ? '' : cogsShippingValue;

    const rentValue = parseInt(getCookie('rent')) || '';
    document.querySelector('#rent').value = rentValue === 0 ? '' : rentValue;

    const utilitiesValue = parseInt(getCookie('utilities')) || '';
    document.querySelector('#utilities').value = utilitiesValue === 0 ? '' : utilitiesValue;

    const salariesValue = parseInt(getCookie('salaries')) || '';
    document.querySelector('#salaries').value = salariesValue === 0 ? '' : salariesValue;

    const marketingValue = parseInt(getCookie('marketing')) || '';
    document.querySelector('#marketing').value = marketingValue === 0 ? '' : marketingValue;

    const insuranceValue = parseInt(getCookie('insurance')) || '';
    document.querySelector('#insurance').value = insuranceValue === 0 ? '' : insuranceValue;

    const travelValue = parseInt(getCookie('travel')) || '';
    document.querySelector('#travel').value = travelValue === 0 ? '' : travelValue;

    const hotelValue = parseInt(getCookie('hotel')) || '';
    document.querySelector('#hotel').value = hotelValue === 0 ? '' : hotelValue;

    const buildingRentValue = parseInt(getCookie('buildingRent')) || '';
    document.querySelector('#buildingRent').value = buildingRentValue === 0 ? '' : buildingRentValue;

    const buildingMaintenanceValue = parseInt(getCookie('buildingMaintenance')) || '';
    document.querySelector('#buildingMaintenance').value = buildingMaintenanceValue === 0 ? '' : buildingMaintenanceValue;

    const buildingUtilitiesValue = parseInt(getCookie('buildingUtilities')) || '';
    document.querySelector('#buildingUtilities').value = buildingUtilitiesValue === 0 ? '' : buildingUtilitiesValue;

    const vehicleRentalValue = parseInt(getCookie('vehicleRental')) || '';
    document.querySelector('#vehicleRental').value = vehicleRentalValue === 0 ? '' : vehicleRentalValue;

    const vehicleLeaseValue = parseInt(getCookie('vehicleLease')) || '';
    document.querySelector('#vehicleLease').value = vehicleLeaseValue === 0 ? '' : vehicleLeaseValue;

    const vehicleGasValue = parseInt(getCookie('vehicleGas')) || '';
    document.querySelector('#vehicleGas').value = vehicleGasValue === 0 ? '' : vehicleGasValue;

    const vehicleMaintenanceValue = parseInt(getCookie('vehicleMaintenance')) || '';
    document.querySelector('#vehicleMaintenance').value = vehicleMaintenanceValue === 0 ? '' : vehicleMaintenanceValue;

    const vehicleInsuranceValue = parseInt(getCookie('vehicleInsurance')) || '';
    document.querySelector('#vehicleInsurance').value = vehicleInsuranceValue === 0 ? '' : vehicleInsuranceValue;

    const cashValue = parseInt(getCookie('cash')) || '';
    document.querySelector('#cash').value = cashValue === 0 ? '' : cashValue;

    const accountsReceivableValue = parseInt(getCookie('accountsReceivable')) || '';
    document.querySelector('#accountsReceivable').value = accountsReceivableValue === 0 ? '' : accountsReceivableValue;

    const inventoryValue = parseInt(getCookie('inventory')) || '';
    document.querySelector('#inventory').value = inventoryValue === 0 ? '' : inventoryValue;

    const propertyValue = parseInt(getCookie('property')) || '';
    document.querySelector('#property').value = propertyValue === 0 ? '' : propertyValue;

    const equipmentValue = parseInt(getCookie('equipment')) || '';
    document.querySelector('#equipment').value = equipmentValue === 0 ? '' : equipmentValue;

    const accountsPayableValue = parseInt(getCookie('accountsPayable')) || '';
    document.querySelector('#accountsPayable').value = accountsPayableValue === 0 ? '' : accountsPayableValue;

    const loansValue = parseInt(getCookie('loans')) || '';
    document.querySelector('#loans').value = loansValue === 0 ? '' : loansValue;

    const mortgagesValue = parseInt(getCookie('mortgages')) || '';
    document.querySelector('#mortgages').value = mortgagesValue === 0 ? '' : mortgagesValue;

    const taxesPayableValue = parseInt(getCookie('taxesPayable')) || '';
    document.querySelector('#taxesPayable').value = taxesPayableValue === 0 ? '' : taxesPayableValue;

    const otherLiabilitiesValue = parseInt(getCookie('otherLiabilities')) || '';
    document.querySelector('#otherLiabilities').value = otherLiabilitiesValue === 0 ? '' : otherLiabilitiesValue;
});



document.addEventListener('DOMContentLoaded', function() {
    const revenueTypeValue = getCookie('revenueType') || '';
    document.querySelector('#revenueType').value = revenueTypeValue;

    const salesFrequencyValue = getCookie('salesFrequency') || '';
    document.querySelector('#salesFrequency').value = salesFrequencyValue;

    const cogsValue = getCookie('cogs') || '';
    document.querySelector('#cogs').value = cogsValue;

    const rentFrequencyValue = getCookie('rentFrequency') || '';
    document.querySelector('#rentFrequency').value = rentFrequencyValue;

    const utilitiesFrequencyValue = getCookie('utilitiesFrequency') || '';
    document.querySelector('#utilitiesFrequency').value = utilitiesFrequencyValue;

    const salariesFrequencyValue = getCookie('salariesFrequency') || '';
    document.querySelector('#salariesFrequency').value = salariesFrequencyValue;

    const marketingFrequencyValue = getCookie('marketingFrequency') || '';
    document.querySelector('#marketingFrequency').value = marketingFrequencyValue;

    const insuranceFrequencyValue = getCookie('insuranceFrequency') || '';
    document.querySelector('#insuranceFrequency').value = insuranceFrequencyValue;

    const travelFrequencyValue = getCookie('travelFrequency') || '';
    document.querySelector('#travelFrequency').value = travelFrequencyValue;

    const hotelFrequencyValue = getCookie('hotelFrequency') || '';
    document.querySelector('#hotelFrequency').value = hotelFrequencyValue;

    const buildingRentFrequencyValue = getCookie('buildingRentFrequency') || '';
    document.querySelector('#buildingRentFrequency').value = buildingRentFrequencyValue;

    const buildingMaintenanceFrequencyValue = getCookie('buildingMaintenanceFrequency') || '';
    document.querySelector('#buildingMaintenanceFrequency').value = buildingMaintenanceFrequencyValue;

    const buildingUtilitiesFrequencyValue = getCookie('buildingUtilitiesFrequency') || '';
    document.querySelector('#buildingUtilitiesFrequency').value = buildingUtilitiesFrequencyValue;

    const vehicleRentalFrequencyValue = getCookie('vehicleRentalFrequency') || '';
    document.querySelector('#vehicleRentalFrequency').value = vehicleRentalFrequencyValue;

    const vehicleLeaseFrequencyValue = getCookie('vehicleLeaseFrequency') || '';
    document.querySelector('#vehicleLeaseFrequency').value = vehicleLeaseFrequencyValue;

    const vehicleGasFrequencyValue = getCookie('vehicleGasFrequency') || '';
    document.querySelector('#vehicleGasFrequency').value = vehicleGasFrequencyValue;

    const vehicleMaintenanceFrequencyValue = getCookie('vehicleMaintenanceFrequency') || '';
    document.querySelector('#vehicleMaintenanceFrequency').value = vehicleMaintenanceFrequencyValue;

    const vehicleInsuranceFrequencyValue = getCookie('vehicleInsuranceFrequency') || '';
    document.querySelector('#vehicleInsuranceFrequency').value = vehicleInsuranceFrequencyValue;

    const resultChangeValue = getCookie('resultChange') || '';
    document.querySelector('#resultChange').value = resultChangeValue;
});


function sendMessage() {
    window.parent.postMessage('close-modal', '*')
    return
}

      </script>
  </body>
  </html>
